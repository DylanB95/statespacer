<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dictionary of statespacer • statespacer</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Dictionary of statespacer">
<meta property="og:description" content="`StateSpaceFit()` returns an object containing many items. In this vignette,  you will learn what exactly is returned by `StateSpaceFit()`, so that you  can obtain more value out of the statespacer package.
">
<meta property="og:image" content="https://dylanb95.github.io/statespacer/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">statespacer</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/dictionary.html">Dictionary of statespacer</a>
    </li>
    <li>
      <a href="../articles/intro.html">Introduction to statespacer</a>
    </li>
    <li>
      <a href="../articles/seatbelt.html">State Space models applied to the UK Road Deaths dataset</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/DylanB95/statespacer/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="dictionary_files/header-attrs-2.1/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Dictionary of statespacer</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/DylanB95/statespacer/blob/master/vignettes/dictionary.Rmd"><code>vignettes/dictionary.Rmd</code></a></small>
      <div class="hidden name"><code>dictionary.Rmd</code></div>

    </div>

    
    
<p>This document provides extensive details about the object that is returned by <code><a href="../reference/StateSpaceFit.html">StateSpaceFit()</a></code>. In order to do so, we start with introducing the form of the general linear Gaussian state space model, following the notation used by <span class="citation">Durbin and Koopman (2012)</span>. Obtaining a grasp of the notation used will help to get the most out of the statespacer package!</p>
<div id="the-general-linear-gaussian-state-space-model" class="section level2">
<h2 class="hasAnchor">
<a href="#the-general-linear-gaussian-state-space-model" class="anchor"></a>The general linear Gaussian state space model</h2>
<p>There are many ways to write down the form of the general linear Gaussian state space model. We use the form used by <span class="citation">Durbin and Koopman (2012)</span>:</p>
<p><span class="math display">\[
\begin{aligned}
 y_t ~ &amp;= ~ Z_t\alpha_t ~ + ~ \varepsilon_t, &amp;\varepsilon_t ~ &amp;\sim ~ N(0, ~ H_t), \\
 \alpha_{t+1} ~ &amp;= ~ T_t\alpha_t ~ + ~ R_t\eta_t, &amp;\eta_t ~ &amp;\sim ~ N(0, ~ Q_t), \\
 &amp; &amp;\alpha_1 ~ &amp;\sim ~ N(a_1, ~ P_1),
\end{aligned}
\]</span></p>
<p>where <span class="math inline">\(y_t\)</span> is the <em>observation vector</em>, a <span class="math inline">\(p ~ \times ~ 1\)</span> vector of dependent variables at time <span class="math inline">\(t\)</span>, <span class="math inline">\(\alpha_t\)</span> is the unobserved <em>state vector</em>, a <span class="math inline">\(m ~ \times ~ 1\)</span> vector of state variables at time <span class="math inline">\(t\)</span>, and <span class="math inline">\(\varepsilon_t\)</span> and <span class="math inline">\(\eta_t\)</span> are disturbance vectors of respectively the observation equation, and the state equation. To initialise the model, <span class="math inline">\(a_1\)</span> is used as the initial guess of the state vector, and <span class="math inline">\(P_1\)</span> is the corresponding uncertainty of that guess. The matrices <span class="math inline">\(Z_t\)</span>, <span class="math inline">\(H_t\)</span>, <span class="math inline">\(T_t\)</span>, <span class="math inline">\(R_t\)</span>, and <span class="math inline">\(Q_t\)</span> are called the <em>system matrices</em> of the state space model. Different specifications of these system matrices, lead to different interpretations of the model at hand.</p>
</div>
<div id="the-object-as-returned-by-statespacefit" class="section level2">
<h2 class="hasAnchor">
<a href="#the-object-as-returned-by-statespacefit" class="anchor"></a>The object as returned by StateSpaceFit</h2>
<p>Having obtained a better understanding of the notation used, it is easier to find our way in the object that is returned by <code><a href="../reference/StateSpaceFit.html">StateSpaceFit()</a></code>. Let’s say we store the object of StateSpaceFit in a variable called <code>fit</code>, that is, <code>fit &lt;- StateSpaceFit(...)</code>. <code>fit</code> is then a list, containing many items, including other lists. This section describes the items that are included in <code>fit</code> one by one.</p>
<div id="function_call" class="section level3">
<h3 class="hasAnchor">
<a href="#function_call" class="anchor"></a>function_call</h3>
<p><code>function_call</code> is a list that contains, as the name suggests, the call to the <code><a href="../reference/StateSpaceFit.html">StateSpaceFit()</a></code> function, including default values for the input arguments that were not specified. For details about the various input arguments, check out <code><a href="../reference/StateSpaceFit.html">?StateSpaceFit</a></code>.</p>
</div>
<div id="system_matrices" class="section level3">
<h3 class="hasAnchor">
<a href="#system_matrices" class="anchor"></a>system_matrices</h3>
<p><code>system_matrices</code> is a list containing all of the system matrices of each of the components. For the variance - covariance matrices <span class="math inline">\(H\)</span> and <span class="math inline">\(Q\)</span>, it also contains 2 decompositions, namely the Cholesky <span class="math inline">\(LDL^{\top}\)</span> decomposition, where <span class="math inline">\(L\)</span> is the loading matrix and <span class="math inline">\(D\)</span> is the diagonal matrix, and the correlation / standard deviation decomposition. The initial guess for the state vector, <code>a1</code>, is also included, together with the corresponding uncertainty splitted out by its diffuse component, <code>P_inf</code>, and its stationary component <code>P_star</code>. Further, it contains <code>Z_padded</code>, which is a list containing the <span class="math inline">\(Z\)</span> matrices of the components augmented with zeroes, such that its dimension is <span class="math inline">\(p ~ \times ~ m\)</span>. These matrices are useful to extract individual components (which is already done for you), or to extract standard deviations of the components. There’s also a vector called <code>state_label</code>, which labels the state vector to indicate which state parameters belongs to which components. If components are specified that introduce parameters into the system matrices, then these parameters are also included here. At the moment, these parameters are <code>lamba</code> (frequency) and <code>rho</code> (dampening factor) for the cycles, <code>AR</code> and <code>MA</code> for the ARIMA components, and <code>SAR</code> and <code>SMA</code> for the SARIMA components. Note that coefficients of explanatory variables are put into the state vector, so these are treated as state parameters, and readily returned by the Kalman filter.</p>
</div>
<div id="predicted" class="section level3">
<h3 class="hasAnchor">
<a href="#predicted" class="anchor"></a>predicted</h3>
<p><code>predicted</code> is a list that contains the one-step ahead predicted (predicting time <span class="math inline">\(t\)</span> using data up to time <span class="math inline">\(t ~ - ~ 1\)</span>) objects as returned by the Kalman filter:</p>
<ul>
<li>
<code>yfit</code> is the predicted value of <span class="math inline">\(y\)</span>.</li>
<li>
<code>v</code> is the prediction error.</li>
<li>
<code>Fmat</code> is the uncertainty of the prediction.</li>
<li>
<code>a</code> is the predicted state.</li>
<li>
<code>P</code> is the uncertainty of the predicted state.</li>
<li>
<code>P_inf</code> is the diffuse part of <code>P</code>.</li>
<li>
<code>P_star</code> is the non-diffuse part of <code>P</code>.</li>
<li>
<code>a_fc</code> is the predicted state for time <span class="math inline">\(N ~ + ~ 1\)</span> (<span class="math inline">\(N\)</span> being the last observed timepoint).</li>
<li>
<code>P_fc</code> is the uncertainty of <code>a_fc</code>.</li>
</ul>
<p>Further, the contributions of the components to the predicted values are extracted seperately.</p>
</div>
<div id="filtered" class="section level3">
<h3 class="hasAnchor">
<a href="#filtered" class="anchor"></a>filtered</h3>
<p><code>filtered</code> is a list that contains the filtered (estimates for time <span class="math inline">\(t\)</span> using data up to time <span class="math inline">\(t\)</span>) objects as returned by the Kalman filter. Here, <code>a</code> is the filtered state, and <code>P</code> the uncertainty of the filtered state. Further, the filtered values of the components are extracted seperately.</p>
</div>
<div id="smoothed" class="section level3">
<h3 class="hasAnchor">
<a href="#smoothed" class="anchor"></a>smoothed</h3>
<p><code>smoothed</code> is a list that contains smoothed (estimates for time <span class="math inline">\(t\)</span> using all of the timepoints) objects as returned by the Kalman smoother:</p>
<ul>
<li>
<code>a</code> is the smoothed state.</li>
<li>
<code>V</code> the uncertainty of the smoothed state.</li>
<li>
<code>eta</code> the smoothed state disturbance.</li>
<li>
<code>eta_var</code> the uncertainty of <code>eta</code>.</li>
<li>
<code>epsilon</code> the smoothed observation disturbance.</li>
<li>
<code>epsilon_var</code> the uncertainty of <code>epsilon</code>.</li>
</ul>
<p>Further, the smoothed values of the components are extracted seperately.</p>
</div>
<div id="diagnostics" class="section level3">
<h3 class="hasAnchor">
<a href="#diagnostics" class="anchor"></a>diagnostics</h3>
<p><code>diagnostics</code> is a list that contains items useful for diagnostic tests and model selection:</p>
<ul>
<li>
<code>initialisation_steps</code> is the number of timesteps required before initialisation was achieved of the diffuse elements of the state vector.</li>
<li>
<code>loglik</code> is the loglikelihood value at the estimated parameters.</li>
<li>
<code>AIC</code> is the Akaike Information Criterion for the model.</li>
<li>
<code>BIC</code> is the Bayesian Information Criterion for the model.</li>
<li>
<code>r</code> is the scaled smoothed state disturbance.</li>
<li>
<code>N</code> is the uncertainty of <code>r</code>.</li>
<li>
<code>e</code> is the smoothing error.</li>
<li>
<code>D</code> is the uncertainty of <code>e</code>.</li>
<li>
<code>Tstat_observation</code> is the T-statistic for testing whether deviations from the observation equation are significant.</li>
<li>
<code>Tstat_state</code> is the T-statistic for testing whether deviations from the state equation are significant.</li>
<li>
<code>v_normalised</code> is the normalised prediction error.</li>
<li>
<code>Skewness</code> is the skewness of <code>v_normalised</code>.</li>
<li>
<code>Kurtosis</code> is the Kurtosis of <code>v_normalised</code>.</li>
<li>
<code>Jarque_Bera</code> is the Jarque-Bera statistic for testing for normality.</li>
<li>
<code>Jarque_Bera_criticalvalue</code> is the critical value of the Jarque-Bera test.</li>
<li>
<code>correlogram</code> is the correlogram of <code>v_normalised</code>.</li>
<li>
<code>Box_Ljung</code> are the Box-Ljung statistics for testing for serial correlation.</li>
<li>
<code>Box_Ljung_criticalvalues</code> are the critical values of the Box-Ljung tests.</li>
<li>
<code>Heteroscedasticity</code> are statistics for testing for heteroscedasticity.</li>
<li>
<code>Heteroscedasticity_criticalvalues</code> are the critical values of the heteroscedasticity tests.</li>
<li>
<code>param_indices</code> is a list containing the indices of the parameters in the parameter vector for each of the components.</li>
<li>
<code>hessian</code> is the hessian of the loglikelihood evaluated at the estimated parameters.</li>
</ul>
</div>
<div id="optim" class="section level3">
<h3 class="hasAnchor">
<a href="#optim" class="anchor"></a>optim</h3>
<p><code>optim</code> is the list as returned by <code><a href="https://rdrr.io/r/stats/optim.html">stats::optim</a></code> or <code><a href="https://rdrr.io/pkg/optimx/man/optimr.html">optimx::optimr</a></code>, depending on if you have optimx installed. See <code><a href="https://rdrr.io/r/stats/optim.html">?stats::optim</a></code> and <code><a href="https://rdrr.io/pkg/optimx/man/optimr.html">?optimx::optimr</a></code> for details.</p>
</div>
<div id="loglik_fun" class="section level3">
<h3 class="hasAnchor">
<a href="#loglik_fun" class="anchor"></a>loglik_fun</h3>
<p><code>loglik_fun</code> is the loglikelihood function that takes <code>param</code> as its only argument. It returns the loglikelihood at the specified parameters.</p>
</div>
<div id="standard_errors" class="section level3">
<h3 class="hasAnchor">
<a href="#standard_errors" class="anchor"></a>standard_errors</h3>
<p><code>standard_errors</code> is a list that contains the standard errors for the transformed parameters. Its structure mimicks the structure from <code>system_matrices</code>, but only representing those system matrices that depend on the parameters.</p>
</div>
</div>
<div id="references" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<div id="refs" class="references hanging-indent">
<div id="ref-durbin2012time">
<p>Durbin, James, and Siem Jan Koopman. 2012. <em>Time Series Analysis by State Space Methods</em>. Oxford university press.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Dylan Beijers.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
